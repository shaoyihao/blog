<html>
<head>
    <meta charset="utf-8"/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>Windows下安装虚拟机：VMware+Ubuntu | SYH&#39;s Blog</title>

<link rel="shortcut icon" href="https://shaoyihao.github.io/blog//favicon.ico?v=1664201656961">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://shaoyihao.github.io/blog//styles/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css">

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script>
<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
    <div class="navbar-brand">
        <img class="user-avatar" src="https://shaoyihao.github.io/blog//images/avatar.png" alt="头像">
        <div class="site-name gt-c-content-color-first">
            SYH&#39;s Blog
        </div>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
                <div class="nav-item">
                    
                        <a href="https://shaoyihao.github.io/blog/ " class="menu gt-a-link">
                            首页
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="https://shaoyihao.github.io/blog//archives" class="menu gt-a-link">
                            时间轴
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="https://shaoyihao.github.io/blog//tags" class="menu gt-a-link">
                            标签
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="https://shaoyihao.github.io/blog/aboutme" class="menu gt-a-link" target="_blank">
                            关于
                        </a>
                    
                </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1664201656961" action="https://shaoyihao.github.io/blog//search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="搜索文章" />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>

    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    Windows下安装虚拟机：VMware+Ubuntu
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        · 2022-09-22 ·
                    </time>
                    
                        <a href="https://shaoyihao.github.io/blog/2c0Sh6Yfq/" class="post-tags">
                            # Unix/Linux
                        </a>
                    
                </div>
                <div class="post-content">
                    <h3 id="安装vmware与ubuntu">安装VMware与Ubuntu</h3>
<ul>
<li>
<p>首先在Ubuntu官网上下载系统文件：<a href="https://ubuntu.com/#download">下载链接</a></p>
<figure data-type="image" tabindex="1"><img src="https://shaoyihao.github.io/blog//post-images/1663833805780.png" alt="" loading="lazy"></figure>
</li>
<li>
<p>再安装VMware虚拟机软件：<a href="https://customerconnect.vmware.com/downloads/#all_products">官网链接</a></p>
<blockquote>
<p>VMware Workstation Pro正版是收费的，VMware Workstation Player是免费的。对于Mac系统，还有VMware Fusion。</p>
<p>（百度网盘）</p>
</blockquote>
<figure data-type="image" tabindex="2"><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h6el8noikzj20zo01sgli.jpg" alt="image-20220921221925899" loading="lazy"></figure>
</li>
<li>
<p>激活VMware：</p>
<figure data-type="image" tabindex="3"><img src="https://shaoyihao.github.io/blog//post-images/1663831404714.PNG" alt="" loading="lazy"></figure>
<blockquote>
<p>16版本：</p>
<pre><code>ZF3R0-FHED2-M80TY-8QYGC-NPKYF
</code></pre>
<p>15版本（以下任一均可）</p>
<pre><code>FG78K-0UZ15-085TQ-TZQXV-XV0CD
ZA11U-DVY97-M81LP-4MNEZ-X3AW0
YU102-44D86-48D2Z-Z4Q5C-MFAWD
</code></pre>
</blockquote>
</li>
<li>
<p>创建虚拟机</p>
<figure data-type="image" tabindex="4"><img src="https://shaoyihao.github.io/blog//post-images/1663831417026.PNG" alt="" loading="lazy"></figure>
<p>导入之前下载好的Ubuntu iso文件：</p>
<figure data-type="image" tabindex="5"><img src="https://shaoyihao.github.io/blog//post-images/1663831428547.PNG" alt="" loading="lazy"></figure>
</li>
<li>
<p>进行虚拟机的设置与安装</p>
<figure data-type="image" tabindex="6"><img src="https://shaoyihao.github.io/blog//post-images/1663831439958.PNG" alt="" loading="lazy"></figure>
<p>后面就一路continue</p>
<figure data-type="image" tabindex="7"><img src="https://shaoyihao.github.io/blog//post-images/1663831451525.PNG" alt="" loading="lazy"></figure>
<p>最终安装成功！</p>
<figure data-type="image" tabindex="8"><img src="https://shaoyihao.github.io/blog//post-images/1663831461924.PNG" alt="" loading="lazy"></figure>
</li>
</ul>
<h3 id="修改apt源">修改apt源</h3>
<p><code>apt-get</code> 命令是Ubuntu系统中的<strong>包管理工具</strong>，可以用来安装、卸载包，也可以用来升级包，还可以用来把系统升级到新的版本。</p>
<p>默认的包安装源在国外，下载速度较慢，因此通常需要将其更换为国内一些镜像源，比如清华源、阿里源等。</p>
<blockquote>
<p><a href="https://www.bilibili.com/video/BV1sq4y1K73s/?spm_id_from=444.41.0.0&amp;vd_source=c992e20d1eaffcc0e0097708d927e429">参考视频</a></p>
</blockquote>
<p>主要步骤就是：修改<code>/etc/apt</code>目录下的<code>sources.list</code>，该文件是apt用来记录软件包仓库位置的配置文件。</p>
<pre><code class="language-shell">cd /etc/apt
sudo cp sources.list sources.list.bak  # 将原文件备份一下
sudo chmod +777 sources.list  # 修改该文件的权限，使可以修改
</code></pre>
<p>进入 <a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/">清华Ubuntu镜像源</a>，将其中的内容复制。</p>
<figure data-type="image" tabindex="9"><img src="https://shaoyihao.github.io/blog//post-images/1663831481952.png" alt="" loading="lazy"></figure>
<pre><code class="language-shell">vim sources.list   # 进行修改
# 如果没有安装vim，可以使用 gedit sources.list
</code></pre>
<p>将其中的内容全部删除后，将复制的内容粘贴存入，保存。</p>
<p>再运行</p>
<pre><code class="language-shell">sudo apt-get update
</code></pre>
<p>到此就成功将源修改了。</p>
<figure data-type="image" tabindex="10"><img src="https://shaoyihao.github.io/blog//post-images/1663831496986.PNG" alt="" loading="lazy"></figure>
<blockquote>
<p>其它内容可以参考 <a href="https://www.cnblogs.com/sparkdev/p/11339231.html">关于apt</a> 。</p>
</blockquote>
<hr>
<h3 id="对虚拟机进行一些配置">对虚拟机进行一些配置</h3>
<h4 id="vim的安装与配置">vim的安装与配置</h4>
<p>安装vim</p>
<pre><code class="language-shell">sudo apt install vim
</code></pre>
<figure data-type="image" tabindex="11"><img src="https://shaoyihao.github.io/blog//post-images/1663831506469.PNG" alt="" loading="lazy"></figure>
<p>vim默认的缩进为8个空格，将其设置为4空格：</p>
<pre><code class="language-shell">sudo vim /etc/vim/vimrc
</code></pre>
<figure data-type="image" tabindex="12"><img src="https://shaoyihao.github.io/blog//post-images/1663831518761.PNG" alt="" loading="lazy"></figure>
<p>添加设置：</p>
<pre><code class="language-shell">set ts=4          # tabstop的缩写，设TAB宽度为4个空格
set softtabstop=4 # 在编辑模式的时候按退格键的时候退回缩进的长度，当使用 expandtab 时特别有用
set shiftwidth=4  # 每一级缩进的长度，一般设置成跟 softtabstop 一样
set expandtab     # 缩进用空格来表示
set autoindent    # 自动缩进
</code></pre>
<h4 id="filezilla连接虚拟机">Filezilla连接虚拟机</h4>
<p>先运行：</p>
<pre><code class="language-bash">sudo apt-get install openssh-server
</code></pre>
<p>再通过 <code>ifconfig</code> 获取ip地址（可能需要先安装 <code>net-tools</code> 才能使用该命令）。</p>
<figure data-type="image" tabindex="13"><img src="https://shaoyihao.github.io/blog//post-images/1663831529506.PNG" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="14"><img src="https://shaoyihao.github.io/blog//post-images/1663831540962.PNG" alt="" loading="lazy"></figure>
<p>下载 filezilla 软件</p>
<figure data-type="image" tabindex="15"><img src="https://shaoyihao.github.io/blog//post-images/1663831549526.PNG" alt="" loading="lazy"></figure>
<p>现在就可以很轻松地在主机与虚拟机之间传递文件了。</p>
<h4 id="开启ftp服务">开启FTP服务</h4>
<pre><code class="language-shell">sudo apt-get install vsftpd
</code></pre>
<p>安装后，还需进行配置：</p>
<pre><code class="language-shell">sudo vim /etc/vsftpd.conf
</code></pre>
<p>在其中找到以下2行：</p>
<pre><code>local_enable=YES
write_enable=YES
</code></pre>
<p>确保这2行没有被注释，如果有，就取消注释。完成后如图所示：</p>
<figure data-type="image" tabindex="16"><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h6fdrvc9usj20sm05a3z1.jpg" alt="截屏2022-09-22 14.46.17" loading="lazy"></figure>
<p>保存后退出。</p>
<p>运行以下命令来重启ftp服务：</p>
<pre><code class="language-shell">sudo /etc/init.d/vsftpd restart
</code></pre>
<figure data-type="image" tabindex="17"><img src="https://shaoyihao.github.io/blog//post-images/1663831563472.PNG" alt="" loading="lazy"></figure>
<h4 id="ssh配置与putty连接">ssh配置与Putty连接</h4>
<blockquote>
<p><a href="http://dblab.xmu.edu.cn/blog/235/#more-235">参考文章</a></p>
</blockquote>
<p>检查已经系统已经存在的SSH Keys：</p>
<pre><code class="language-shell">ls -al ~/.ssh
</code></pre>
<p>如果没有，便生成一个新的SSH key（ubuntu通过以下命令直接可以生成一个SSH Key）：</p>
<pre><code class="language-shell">ssh-keygen
</code></pre>
<figure data-type="image" tabindex="18"><img src="https://shaoyihao.github.io/blog//post-images/1663831574679.PNG" alt="" loading="lazy"></figure>
<p>执行命令：</p>
<pre><code class="language-shell">cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys
</code></pre>
<p>连接本机：</p>
<pre><code class="language-shell">ssh localhost
</code></pre>
<figure data-type="image" tabindex="19"><img src="https://shaoyihao.github.io/blog//post-images/1663831584972.PNG" alt="" loading="lazy"></figure>
<p>在本机上使用putty连接虚拟机：</p>
<blockquote>
<p><a href="https://www.putty.org/">Putty官网下载</a></p>
</blockquote>
<figure data-type="image" tabindex="20"><img src="https://shaoyihao.github.io/blog//post-images/1663831595778.PNG" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="21"><img src="https://shaoyihao.github.io/blog//post-images/1663831602779.PNG" alt="" loading="lazy"></figure>
<h4 id="安装java">安装java</h4>
<pre><code class="language-shell">sudo apt-get install default-jdk
</code></pre>
<p>注意其中jdk的下载路径：</p>
<figure data-type="image" tabindex="22"><img src="https://shaoyihao.github.io/blog//post-images/1663831611910.PNG" alt="" loading="lazy"></figure>
<p>配置环境变量</p>
<blockquote>
<p><a href="https://shaoyihao.github.io/blog/Linux%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/">参考文章</a></p>
</blockquote>
<blockquote>
<p>（其实Ubuntu中好像下载了jdk后就会自动加入环境变量，好像是，因为此时什么都不配置，就已经可以运行<code>java</code>等命令了。因此下面的步骤不一定要进行。）</p>
</blockquote>
<p>运行命令</p>
<pre><code class="language-bash">sudo gedit ~/.bashrc
</code></pre>
<p>在其中添加</p>
<pre><code class="language-shell">export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64
export JRE_HOME=$JAVA_HOME/jre
export CLASSPATH=$JAVA_HOME/lib:$JRE_HOME/lib:$CLASSPATH
export PATH=$JAVA_HOME/bin:$JRE_HOME/bin:$PATH
</code></pre>
<p>保存后退出。再运行：</p>
<pre><code class="language-shell">source .bashrc
</code></pre>
<p>现在就配置好了。</p>
<p>运行</p>
<pre><code class="language-shell">echo $JAVA_HOME
</code></pre>
<p>可以看到：</p>
<figure data-type="image" tabindex="23"><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h6eco6pme8j20nm018aa1.jpg" alt="37" loading="lazy"></figure>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">下一篇</div>
                <a href="https://shaoyihao.github.io/blog/Linux环境变量/" class="post-title gt-a-link">
                    Linux环境变量
                </a>
            </div>
        

        

        

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first"></div>
    <div class="social-container">
        
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        ©All rights reserved
    </div>
    <!-- <div>
        Theme by <a href="https://imhanjie.com/" target="_blank">imhanjie</a>, Powered by <a
                href="https://github.com/getgridea/gridea" target="_blank">Gridea | <a href="https://shaoyihao.github.io/blog//atom.xml" target="_blank">RSS</a></a>
    </div> -->
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
</div>
</body>
</html>
